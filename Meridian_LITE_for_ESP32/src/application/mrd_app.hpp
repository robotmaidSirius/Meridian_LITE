/**
 * @file application/mrd_app.hpp
 * @brief アプリケーション用のヘッダファイル
 * @version 1.2.0
 * @date 2025-03-03
 *
 * @copyright Copyright (c) 2025
 *
 */
#ifndef MRD_APP_HPP
#define MRD_APP_HPP

// ヘッダファイルの読み込み
#include "config.h"

// ライブラリ導入
#include <Meridian.h>                     // Meridianのライブラリ導入
#include <Meridim90.hpp>                  // Meridim90のライブラリ導入
#include <mrd_module/servo/sv_common.hpp> // サーボ用定義

extern MERIDIANFLOW::Meridian mrd;
extern ServoParam sv;

////////////////////////////////////////////////////////////////////////////////////////////////////
// 関数: EEPROM
////////////////////////////////////////////////////////////////////////////////////////////////////
void app_eeprom_setup();
bool mrd_set_eeprom();
void mrd_get_eeprom();

////////////////////////////////////////////////////////////////////////////////////////////////////
// 関数: SD card
////////////////////////////////////////////////////////////////////////////////////////////////////
void app_sd_setup();

////////////////////////////////////////////////////////////////////////////////////////////////////
// 関数: SD card
////////////////////////////////////////////////////////////////////////////////////////////////////
void app_servo_setup(ServoParam &sv);
void app_servo_err_reset(ServoParam &sv);
bool app_servo_all_off(Meridim90Union &a_meridim);
uint8_t app_servo_make_errcode_lite(ServoParam a_sv);

#endif // MRD_APP_HPP
